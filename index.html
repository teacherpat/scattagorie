<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Challenge</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap');
        
        body {
            font-family: 'Comfortaa', cursive;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #f5f5f5;
            overflow: hidden;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .game-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            height: 200px;
        }
        .word-display {
            font-size: 48px;
            font-weight: bold;
            color: #e74c3c;
            position: absolute;
            white-space: nowrap;
        }
        .answer-input {
            width: 80%;
            padding: 10px;
            font-size: 24px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-top: 100px;
            text-align: center;
        }
        .timer, .score-display {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
            color: #2c3e50;
        }
        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
            display: block;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1>Typing Challenge</h1>
    
    <div class="game-container">
        <label for="difficulty">Select Difficulty:</label>
        <select id="difficulty">
            <option value="easy">Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
        </select>
        
        <div class="word-display" id="word-display">Press Start</div>
        <input type="text" class="answer-input" id="answer-input" placeholder="Type here..." disabled>
        
        <div class="timer" id="timer">60</div>
        <div class="score-display" id="score-display">Score: 0</div>
        
        <button class="btn" id="start-btn">Start Game</button>
        <audio id="chime" src="https://www.soundjay.com/button/beep-07.wav"></audio>
    </div>

    <script>
        const wordLists = {
            easy: ["jump", "sun", "lake", "kind", "star", "brave", "laugh", "apple", "river", "smile"],
            medium: ["whisper", "journey", "puzzle", "luminous", "delicate", "serenade", "shimmer", "twilight"],
            hard: ["ephemeral", "quintessential", "serendipity", "mellifluous", "ineffable", "sonder", "petrichor"]
        };
        
        let timeLeft = 60;
        let timer;
        let gameActive = false;
        let score = 0;
        let currentWord = "";
        let wordQueue = [];
        
        const wordDisplay = document.getElementById('word-display');
        const answerInput = document.getElementById('answer-input');
        const timerElement = document.getElementById('timer');
        const startBtn = document.getElementById('start-btn');
        const scoreDisplay = document.getElementById('score-display');
        const difficultySelect = document.getElementById('difficulty');
        const chimeSound = document.getElementById('chime');
        
        startBtn.addEventListener('click', () => {
            if (gameActive) {
                endGame();
            } else {
                startGame();
            }
        });
        
        function startGame() {
            gameActive = true;
            startBtn.style.display = "block"; // Ensure button remains visible
            startBtn.textContent = "End Game";
            score = 0;
            scoreDisplay.textContent = `Score: ${score}`;
            answerInput.disabled = false;
            answerInput.value = '';
            answerInput.focus();
            
            wordQueue = [...wordLists[difficultySelect.value]];
            shuffleArray(wordQueue);
            nextWord();
            
            timeLeft = 60;
            timerElement.textContent = timeLeft;
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }
        
        function nextWord() {
            if (wordQueue.length === 0) {
                shuffleArray(wordQueue = [...wordLists[difficultySelect.value]]);
            }
            currentWord = wordQueue.shift();
            wordDisplay.textContent = currentWord;
            wordDisplay.style.top = `${Math.random() * 150}px`;
            wordDisplay.style.left = `${Math.random() * 600}px`;
        }
        
        function endGame() {
            gameActive = false;
            clearInterval(timer);
            startBtn.textContent = "Start Game";
            startBtn.style.display = "block";
            answerInput.disabled = true;
            alert(`Time's up! Your score: ${score}`);
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
    </script>
</body>
</html>
